% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot-pan.R
\name{plot_assembly_composition}
\alias{plot_assembly_composition}
\title{Plot assembly composition}
\usage{
plot_assembly_composition(
  clusters,
  pa = NULL,
  rare_threshold = 0.1,
  accessory_threshold = 0.6,
  exclude_singletons = FALSE,
  colors = NULL,
  position = "stack",
  title = NULL
)
}
\arguments{
\item{clusters}{An \code{orthogroup_result} object.}

\item{pa}{Optional pre-built \code{pa_matrix}. If NULL, built internally.}

\item{rare_threshold}{Proportion threshold for "Rare" category (default 0.10).
Orthogroups present in <= this proportion of assemblies (but > 1) are "Rare".}

\item{accessory_threshold}{Proportion threshold for "Accessory" category (default 0.60).
Orthogroups present in > rare_threshold and <= this proportion are "Accessory".}

\item{exclude_singletons}{Logical. If TRUE, singletons are not shown (default FALSE).}

\item{colors}{Named vector of colors for each category. If NULL, uses default palette.}

\item{position}{Bar position: "stack" for counts (default), "fill" for proportions.}

\item{title}{Plot title. If NULL, uses default.}
}
\value{
A ggplot object.
}
\description{
Creates a stacked bar chart showing the composition of each assembly's
proteins by category: Core, Accessory, Rare, Unique, and optionally Singletons.
}
\examples{
\dontrun{
# Basic usage
plot_assembly_composition(clusters)

# Show proportions instead of counts
plot_assembly_composition(clusters, position = "fill")

# Without singletons
plot_assembly_composition(clusters, exclude_singletons = TRUE)
}
}
