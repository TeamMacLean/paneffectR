% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cluster.R
\name{cluster_proteins}
\alias{cluster_proteins}
\title{Cluster proteins across assemblies}
\usage{
cluster_proteins(
  proteins,
  method = "diamond_rbh",
  mode = "fast",
  min_identity = 30,
  min_coverage = 50,
  evalue = 1e-05,
  threads = NULL,
  tool_path = NULL,
  conda_prefix = NULL,
  keep_temp = FALSE
)
}
\arguments{
\item{proteins}{A protein_collection object}

\item{method}{Clustering method: "diamond_rbh" (default), "orthofinder", or "mmseqs2"}

\item{mode}{Speed/sensitivity trade-off: "fast" (default) or "thorough"}

\item{min_identity}{Minimum percent identity threshold (default 30)}

\item{min_coverage}{Minimum query coverage threshold (default 50)}

\item{evalue}{E-value threshold (default 1e-5)}

\item{threads}{Number of CPU threads (default: auto-detect)}

\item{tool_path}{Optional explicit path to the clustering tool binary}

\item{conda_prefix}{Optional direct path to a conda/mamba environment containing
the tool (e.g., "./this_project_env"). Tool is expected at \verb{<prefix>/bin/<tool>}.}

\item{keep_temp}{Keep temporary files for debugging (default FALSE)}
}
\value{
An orthogroup_result object containing:
\itemize{
\item orthogroups: tibble with orthogroup_id, assembly, protein_id
\item method: the clustering method used
\item parameters: list of parameters used
\item singletons: proteins not assigned to any orthogroup
}
}
\description{
Groups proteins from a protein_collection into orthogroups using
sequence similarity. Multiple clustering methods are available.
}
\examples{
\dontrun{
# Load proteins
proteins <- load_proteins(fasta_dir = "assemblies/")

# Cluster with default settings (DIAMOND RBH)
result <- cluster_proteins(proteins)

# Use thorough mode with stricter thresholds
result <- cluster_proteins(
  proteins,
  mode = "thorough",
  min_identity = 70,
  min_coverage = 80
)

# Use a project-local conda environment
result <- cluster_proteins(
  proteins,
  conda_prefix = "./this_project_env"
)
}
}
